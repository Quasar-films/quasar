import{h as S,r as y,s as j,i as O,j as z,k as B,l as E,m as M,n as q,q as w,v as R,g as x,o as _,c as f,a as i,b as P,t as h,x as H,y as N,_ as $,z as W,A as F,B as T,F as Q,C as L,D as V}from"./entry.dd1f934e.js";import{u as K}from"./useSeoMetaData.3b9e5cd0.js";function U(...a){var A;const c=typeof a[a.length-1]=="string"?a.pop():void 0;typeof a[0]!="string"&&a.unshift(c);let[e,l,t={}]=a;if(typeof e!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof l!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const s=M(),b=()=>null,C=()=>s.isHydrating?s.payload.data[e]:s.static.data[e];t.server=t.server??!0,t.default=t.default??b,t.getCachedData=t.getCachedData??C,t.lazy=t.lazy??!1,t.immediate=t.immediate??!0,t.deep=t.deep??S.deep;const u=()=>![null,void 0].includes(t.getCachedData(e));if(!s._asyncData[e]||!t.immediate){(A=s.payload._errors)[e]??(A[e]=null);const o=t.deep?y:j;s._asyncData[e]={data:o(t.getCachedData(e)??t.default()),pending:y(!u()),error:O(s.payload._errors,e),status:y("idle")}}const n={...s._asyncData[e]};n.refresh=n.execute=(o={})=>{if(s._asyncDataPromises[e]){if(o.dedupe===!1)return s._asyncDataPromises[e];s._asyncDataPromises[e].cancelled=!0}if((o._initial||s.isHydrating&&o._initial!==!1)&&u())return Promise.resolve(t.getCachedData(e));n.pending.value=!0,n.status.value="pending";const p=new Promise((r,d)=>{try{r(l(s))}catch(I){d(I)}}).then(r=>{if(p.cancelled)return s._asyncDataPromises[e];let d=r;t.transform&&(d=t.transform(r)),t.pick&&(d=G(d,t.pick)),s.payload.data[e]=d,n.data.value=d,n.error.value=null,n.status.value="success"}).catch(r=>{if(p.cancelled)return s._asyncDataPromises[e];n.error.value=q(r),n.data.value=w(t.default()),n.status.value="error"}).finally(()=>{p.cancelled||(n.pending.value=!1,delete s._asyncDataPromises[e])});return s._asyncDataPromises[e]=p,s._asyncDataPromises[e]};const m=()=>n.refresh({_initial:!0}),g=t.server!==!1&&s.payload.serverRendered;{const o=R();if(o&&!o._nuxtOnBeforeMountCbs){o._nuxtOnBeforeMountCbs=[];const r=o._nuxtOnBeforeMountCbs;o&&(z(()=>{r.forEach(d=>{d()}),r.splice(0,r.length)}),B(()=>r.splice(0,r.length)))}g&&s.isHydrating&&(n.error.value||u())?(n.pending.value=!1,n.status.value=n.error.value?"error":"success"):o&&(s.payload.serverRendered&&s.isHydrating||t.lazy)&&t.immediate?o._nuxtOnBeforeMountCbs.push(m):t.immediate&&m(),t.watch&&E(t.watch,()=>n.refresh());const p=s.hook("app:data:refresh",async r=>{(!r||r.includes(e))&&await n.refresh()});o&&B(p)}const k=Promise.resolve(s._asyncDataPromises[e]).then(()=>n);return Object.assign(k,n),k}function G(a,c){const e={};for(const l of c)e[l]=a[l];return e}const J={class:"app-wallpaper__content"},X={class:"app-wallpaper__item"},Y={class:"app-wallpaper__item"},Z=x({__name:"AppWallpaper",props:{content:{type:Object,required:!0}},setup(a){const c=e=>`/_nuxt/${e}`;return(e,l)=>{const t=N;return _(),f("div",{class:"app-wallpaper",style:H({backgroundImage:"url("+c(a.content.imagePath)+")",backgroundSize:"cover",backgroundPosition:"center"})},[i("div",J,[P(t,{title:a.content.badge,size:"sm",transparent:"",class:"app-wallpaper__item"},null,8,["title"]),i("h3",X,h(a.content.title),1),i("p",Y,h(a.content.description),1),P(t,{title:a.content.btnTitle,class:"app-wallpaper__item"},null,8,["title"])])],4)}}});const ee=$(Z,[["__scopeId","data-v-c8797444"]]),te={class:"app-card"},ae={class:"app-card__image-wrapper"},se=["src"],ne={class:"app-card__content"},re={class:"app-card__title"},oe={class:"app-card__description"},ce=x({__name:"AppCard",props:{content:{type:Object,required:!0}},setup(a){const c=e=>`/_nuxt/${e}`;return(e,l)=>(_(),f("div",te,[i("div",ae,[i("img",{src:c(a.content.imagePath),alt:"logo"},null,8,se)]),i("div",ne,[i("h5",re,h(a.content.title),1),i("div",oe,h(a.content.description),1)])]))}});const ie=$(ce,[["__scopeId","data-v-f9b0fdf5"]]),le=W("ProductsStore",{state:()=>({items:[]}),getters:{getProductById(a){return c=>a.items.find(e=>e.id===c)},getProductsCount(a){return a.items.length}},actions:{async getProducts(){try{const{data:a}=await U("products",()=>$fetch("/api/test"));this.setProducts(a)}catch(a){console.error(a)}},setProducts(a){this.items=a}}}),de="Quasar",v="",D='Добро пожаловать на "Quasar" – твой источник рейтингов фильмов! Мы отбираем лучшие ленты, предоставляем обзоры и подсказываем фильмы по твоему вкусу. Присоединяйся, делись своим мнением и погружайся в мир кино вместе с нами. Узнай больше о том, что делает "Quasar" особенным!',pe={title:v,description:D,ogDescription:D,ogTitle:v,ogImage:"",ogType:"website",ogLocale:"ru_Ru",twitterCard:"summary",twitterTitle:v,twitterDescription:D,twitterImage:"",twitterImageAlt:de},ue={class:"home"},_e={class:"home__header"},me={class:"home__list"},ge=x({__name:"index",async setup(a){let c,e;K(pe);const l=le();[c,e]=F(()=>l.getProducts()),await c,e();const t=T({imagePath:"assets/images/2.png",badge:"NEW",title:"Открой занавес! Все фильмы в одном месте",description:"Погрузись в бескрайний мир киноискусства – у нас собраны сотни фильмов, чтобы каждый момент стал незабываемым",btnTitle:"Explore"}),s=T([{imagePath:"assets/images/1707035569865a30nawsz.jpg",title:"Title 1",description:"Desc 1"},{imagePath:"assets/images/1707036795728kihqdrrq.jpg",title:"Title 2",description:"Desc 2"},{imagePath:"assets/images/170703591194285av727k.jpg",title:"Title 3",description:"Desc 3"},{imagePath:"assets/images/1707035915011395ofs3c.jpg",title:"Title 4",description:"Desc 4"}]);return(b,C)=>{const u=ee,n=ie;return _(),f("div",ue,[i("div",_e,[P(u,{content:w(t)},null,8,["content"])]),i("div",me,[(_(!0),f(Q,null,L(w(s),(m,g)=>(_(),V(n,{key:g,content:m},null,8,["content"]))),128))])])}}});export{ge as default};
